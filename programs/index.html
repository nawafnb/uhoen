<!doctype html>
<html lang="ar" dir="rtl">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link rel="shortcut icon" href="favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.rtl.min.css" integrity="sha384-+qdLaIRZfNu4cVPK/PxJJEy0B0f3Ugv8i482AKY7gwXwhaCroABd086ybrVKTa0q" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@200;300;400;500;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <title>Uhoe Store</title>
  </head>
  <body>
    <nav class="py-2">
      <div class="container">
        <div class="d-flex justify-content-center">
          <ul class="nav">
            <li class="nav-item">
              <button class="nav-link active nav-btn" @click='store.filtering("x4user")'>أشباهٌ ومكررات</button>
            </li>
            <li class="nav-item">
              <button class="nav-link active nav-btn" @click='store.filtering("4user")'>رباعيات</button>
            </li>
            <li class="nav-item">
              <button class="nav-link nav-btn" @click='store.filtering("3user")'>ثلاثيات</button>
            </li>
            <li class="nav-item">
              <button class="nav-link nav-btn" @click='store.init()'>الكل</button>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <div class="container">
      <div class="row justify-content-center align-items-center">
        <div class="col-lg-3 col-5 m-2" v-for="user in store.myData" v-cloak>
          <div class="card bg-myColor text-white">
            <img :src='user.photo' class="card-img-top" alt="...">
            <div class="card-body text-center">
              <h1>{{ user.username }}</h1>
              <a :href='"https://api.whatsapp.com/send/?phone=966507100743&text=" + user.username' target="_blank" ><button class="btn text-white btn-color">شراء</button></a>
              <p class="card bg-myColor text-white">SR {{ user.pirce }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script type="module">
      import { createApp, reactive } from 'https://unpkg.com/petite-vue?module'
      const store = reactive({
        myData: [],
        async init() {
         let rsp = await fetch("info.json");
         let data = await rsp.json();
         this.myData = data;
        },
        async filtering(_data) {
         let rsp = await fetch("info.json");
         /** @type {Array} */
         let data = await rsp.json();
         this.myData = data.filter((e) => e.type == _data);
        }
      })

      // manipulate it here
      store.init()
      createApp({
        store
      }).mount()
    </script>
  </body>
</html>